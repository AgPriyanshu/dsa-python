# Given an array nums and an integer k. An array is called nice if and only if it contains k odd numbers. Find the number of nice subarrays in the given array nums.
# A subarray is continuous part of the array.

class Solution:
  def helper(self,nums,goal):
    sum = 0
    l,r = 0,0
    count = 0
    if goal < 0:
      return 0
    while r < len(nums):
      sum += (nums[r] % 2)

      while sum > goal:
        sum -= (nums[l] % 2)
        l += 1

      count += r-l+1
      r += 1
    return count

  def numberOfOddSubarrays(self, nums, goal):
    return self.helper(nums,goal) - self.helper(nums,goal-1)
    




if __name__ == "__main__":
  nums = [25532, 22297, 27011, 31862, 30206, 32625, 6501, 8017, 28202, 3063, 20216, 15981, 23956, 12991, 27082, 30129, 212, 19730, 28887, 14265, 10604, 10873, 26960, 22916, 27308, 6680, 2715, 1645, 3539, 7741, 29595, 12381, 4471, 32313, 17713, 20542, 14375, 10863, 17923, 2739, 27214, 9898, 29564, 3334, 28506, 28340, 9236, 13922, 16926, 2340, 7889, 24898, 1141, 15479, 19469, 24873, 22057, 6754, 25467, 2196, 4883, 21863, 15205, 19244, 15491, 5287, 7479, 20545, 4578, 14839, 17217, 2420, 7317, 20021, 25529, 8627, 13093, 2013, 27903, 22635, 14237, 8151, 22309, 7416, 5428, 26771, 11951, 32353, 16684, 23384, 15511, 17218, 17146, 4057, 28565, 15881, 1959, 21002, 27293, 12645, 1142, 18993, 23720, 22780, 27847, 27456, 1463, 27229, 32571, 7010, 3349, 8757, 11801, 19156, 3293, 12741, 9969, 27894, 30397, 8339, 32127, 1954, 13817, 30304, 32209, 19644, 12979, 16731, 27052, 29194, 6761, 19604, 9517, 15174, 4543, 6835, 5804, 27250, 13183, 30954, 15845, 2668, 222, 15912, 18010, 18370, 9985, 2704, 6387, 19399, 15807, 6953, 12520, 19943, 25513, 1495, 14304, 20279, 23367, 29066, 11611, 13392, 3493, 7861, 7501, 12638, 5646, 21506, 10763, 15476, 15128, 836]
  k = 50
  print(Solution().numberOfOddSubarrays(nums,k))